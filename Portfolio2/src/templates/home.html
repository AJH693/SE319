{% extends "layout.html" %}
{% block header_css %}
<head>
    <title>Home</title>
    {{ super() }}
</head>
{% endblock %}
{% block body %}
<div class="row">
    <div class="col-md-10 col-md-offset-2" style="width:800px;">
        <button id="testbtn" class="btn btn-sm btn-primary">TEST DB</button>
        <h3>Classes </h3>
        <div id="class-list" class="list-group">
            
        </div>

        <h3>Assignments </h3>
        <div class="list-group">
            <a href="" class="list-group-item">
                <div class="row">
                    <div class="col-md-2">Asignment 1</div>
                    <div class="col-md-2 col-md-offset-8">due on 10/3</div>
                </div>
            </a>
            <a href="" class="list-group-item">
                <div class="row">
                    <div class="col-md-2">Asignment 2</div>
                    <div class="col-md-2 col-md-offset-8">due on 10/3</div>
                </div>
            </a>
            <a href="" class="list-group-item">
                <div class="row">
                    <div class="col-md-2">Asignment 3</div>
                    <div class="col-md-2 col-md-offset-8">due on 10/3</div>
                </div>
            </a>
            <a href="" class="list-group-item">
                <div class="row">
                    <div class="col-md-2">Asignment 4</div>
                    <div class="col-md-2 col-md-offset-8">due on 10/3</div>
                </div>
            </a>
            <a href="" class="list-group-item">
                <div class="row">
                    <div class="col-md-2">Asignment 5</div>
                    <div class="col-md-2 col-md-offset-8">due on 10/3</div>
                </div>
            </a>
        </div>
    </div>
</div>
{% endblock %}
{% block js_bottom %}
{{ super() }}
<script>    
    $("#testbtn").click(function(){
        console.log("HIT AJAX");
        $.ajax({
            url         :'{{ url_for("test") }}',
            type        :"GET"
        })
    });
    
    function getClassList() {
        $.ajax({
            url         :'{{ url_for("class_list")}}',
            type        :"GET",
            success     :function(result) {
                var classList = $.parseJSON(result);
                var strClassList="";
                for(var i=0; i < classList.length;i++){
                    strClassList+="<a href='../course/view/" + classList[i].name + "' class='list-group-item'>";
                    strClassList+=classList[i].name;
                    strClassList+="</a>";
                }
                $('#class-list').html(strClassList);
            }
        });
    }

    $(document).ready(function() {
        getClassList();
    })
</script>
{% endblock %}